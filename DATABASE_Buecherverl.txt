DROP DATABASE IF EXISTS Buecherverleih;

CREATE DATABASE Buecherverleih;

USE BÃ¼cherverleih;

CREATE TABLE buch (
    id INT PRIMARY KEY AUTO_INCREMENT,
    titel VARCHAR(100) NOT NULL
    
);

CREATE TABLE kunde (
    nummer CHAR(10) PRIMARY KEY,
	name VARCHAR(200) NOT NULL,
	vorname VARCHAR(200) NOT NULL,
	guthaben DOUBLE NOT NULL	
    
  
);

CREATE TABLE ausleihe (

    buch_id INT FOREIGN KEY,
	kundennummer	CHAR(10) FOREIGN KEY,
	FOREIGN KEY (kunde) REFERENCES kunde (nummer),
	FOREIGN KEY (buch) REFERENCES buch (id)
  
);



besser...


DROP DATABASE IF EXISTS Buecherverleih;


CREATE DATABASE Buecherverleih;


USE Buecherverleih;



-- Create the "buch" table
CREATE TABLE buch (
    id INT PRIMARY KEY AUTO_INCREMENT,
    titel VARCHAR(100) NOT NULL,
    autor VARCHAR(200) NOT NULL,
    genre VARCHAR(50),
    erscheinungsjahr INT,
    isbn VARCHAR(13) UNIQUE
);


CREATE TABLE kunde (
    nummer CHAR(10) PRIMARY KEY,
    name VARCHAR(200) NOT NULL,
    vorname VARCHAR(200) NOT NULL,
    guthaben DOUBLE NOT NULL
);


CREATE TABLE ausleihe (
    ausleihe_id INT PRIMARY KEY AUTO_INCREMENT,
    buch_id INT,
    kundennummer CHAR(10),
    FOREIGN KEY (buch_id) REFERENCES buch(id),
    FOREIGN KEY (kundennummer) REFERENCES kunde(nummer)
);

CREATE TABLE verlag (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(200) NOT NULL,
    sitz VARCHAR(100),
    gruendungsjahr INT
);

-- Add a foreign key relationship between "buch" and "verlag"
ALTER TABLE buch
ADD COLUMN verlag_id INT,
ADD FOREIGN KEY (verlag_id) REFERENCES verlag(id);






